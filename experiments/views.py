from django.shortcuts import render, redirect
from django.views.decorators.http import require_http_methods
from django.views.generic import TemplateView
from django.http import Http404
import random

# üíæ –¢–∏–º—á–∞—Å–æ–≤—ñ "–∑–∞–≥–æ—Ç–æ–≤–∫–∏" (–º–æ–∂–µ—à –∑–∞–º—ñ–Ω–∏—Ç–∏ –Ω–∞ –º–æ–¥–µ–ª—å –ø—ñ–∑–Ω—ñ—à–µ)
EXPERIMENTS = {
    "home-rainbow": {
        "slug": "home-rainbow",
        "title": "–î–æ–º–∞—à–Ω—è –≤–µ—Å–µ–ª–∫–∞",
        "emoji": "üåà",
        "summary": "–°–∫–ª—è–Ω–∫–∞ –≤–æ–¥–∏ + —Å–≤—ñ—Ç–ª–æ = –∫–æ–ª—å–æ—Ä–∏ –Ω–∞ —Å—Ç—ñ–Ω—ñ!",
        "materials": ["—Å–∫–ª—è–Ω–∫–∞ –∑ –≤–æ–¥–æ—é", "–∞—Ä–∫—É—à –±—ñ–ª–æ–≥–æ –ø–∞–ø–µ—Ä—É", "–ª—ñ—Ö—Ç–∞—Ä–∏–∫ –∞–±–æ —Å–æ–Ω—Ü–µ"],
        "steps": [
            "–ü–æ—Å—Ç–∞–≤ —Å–∫–ª—è–Ω–∫—É –±—ñ–ª—è –∫—Ä–∞—é —Å—Ç–æ–ª–∞.",
            "–ù–∞–ø—Ä–∞–≤ –ø—Ä–æ–º—ñ–Ω—å —Å–≤—ñ—Ç–ª–∞ —á–µ—Ä–µ–∑ —Å–∫–ª—è–Ω–∫—É –Ω–∞ –∞—Ä–∫—É—à.",
            "–ü–æ—Å—É–Ω—å –∞—Ä–∫—É—à, –ø–æ–∫–∏ –Ω–µ –∑‚Äô—è–≤–∏—Ç—å—Å—è –≤–µ—Å–µ–ª–∫–∞."
        ],
        "safety_note": "–ù–µ –¥–∏–≤–∏—Å—å –ø—Ä—è–º–æ —É –¥–∂–µ—Ä–µ–ª–æ —Å–≤—ñ—Ç–ª–∞.",
        "image": "images/home_rainbow.png",
        "duration": 10,
        "age_range": "5+",
        "level": "–¥—É–∂–µ –ª–µ–≥–∫–æ",
    },
    "magnet-fish": {
        "slug": "magnet-fish",
        "title": "–ú–∞–≥–Ω—ñ—Ç–Ω–∏–π —Ä–∏–±–æ–ª–æ–≤",
        "emoji": "üß≤",
        "summary": "–õ–æ–≤–∏–º–æ —Å–∫—Ä—ñ–ø–∫–∏ –º–∞–≥–Ω—ñ—Ç–æ–º —ñ —Ä–æ–∑–±–∏—Ä–∞—î–º–æ—Å—å —ñ–∑ —Å–∏–ª–∞–º–∏.",
        "materials": ["–º–∞–≥–Ω—ñ—Ç", "—Å–∫—Ä—ñ–ø–∫–∏", "–º–æ—Ç—É–∑–æ—á–∫–∞", "–ø–∞–ª–∏—á–∫–∞"],
        "steps": [
            "–ü—Ä–∏–≤‚Äô—è–∂–∏ –º–æ—Ç—É–∑–∫—É –¥–æ –ø–∞–ª–∏—á–∫–∏.",
            "–î–æ –∫—ñ–Ω—Ü—è –º–æ—Ç—É–∑–∫–∏ –ø—Ä–∏–∫—Ä—ñ–ø–∏ –º–∞–≥–Ω—ñ—Ç.",
            "–ó–±–µ—Ä–∏ ‚Äú—Ä–∏–±—É‚Äù –∑—ñ —Å–∫—Ä—ñ–ø–æ–∫ —ñ –ª–æ–≤–∏!"
        ],
        "safety_note": "–¢—Ä–∏–º–∞–π –º–∞–≥–Ω—ñ—Ç –ø–æ–¥–∞–ª—ñ –≤—ñ–¥ –µ–ª–µ–∫—Ç—Ä–æ–Ω—ñ–∫–∏.",
        "image": "images/magnet_fish.png",
        "duration": 15,
        "age_range": "6+",
        "level": "–ª–µ–≥–∫–æ",
    },
    "balloon-rocket": {
        "slug": "balloon-rocket",
        "title": "–†–∞–∫–µ—Ç–∞ –Ω–∞ –Ω–∏—Ç—Ü—ñ",
        "emoji": "üéà",
        "summary": "–ü–æ–≤—ñ—Ç—Ä—è —Ç—ñ–∫–∞—î ‚Äî —Ä–∞–∫–µ—Ç–∞ –ª–µ—Ç–∏—Ç—å!",
        "materials": ["–ø–æ–≤—ñ—Ç—Ä—è–Ω–∞ –∫—É–ª—å–∫–∞", "–Ω–∏—Ç–∫–∞ 2‚Äì3 –º", "—Å–æ–ª–æ–º–∏–Ω–∫–∞", "—Å–∫–æ—Ç—á"],
        "steps": [
            "–ü—Ä–æ—Ç—è–≥–Ω–∏ –Ω–∏—Ç–∫—É –∫—Ä—ñ–∑—å —Å–æ–ª–æ–º–∏–Ω–∫—É —Ç–∞ –∑–∞–∫—Ä—ñ–ø–∏ —ó—ó –º—ñ–∂ –¥–≤–æ–º–∞ —Ç–æ—á–∫–∞–º–∏.",
            "–ù–∞–∫–ª–µ–π –∫—É–ª—å–∫—É –Ω–∞ —Å–æ–ª–æ–º–∏–Ω–∫—É —Å–∫–æ—Ç—á–µ–º.",
            "–ù–∞–¥—É–π—Ç–µ –∫—É–ª—å–∫—É, –∑–∞—Ç–∏—Å–Ω–∏ –æ—Ç–≤—ñ—Ä —ñ –≤—ñ–¥–ø—É—Å—Ç–∏!"
        ],
        "safety_note": "–ù–µ –Ω–∞–ø—Ä–∞–≤–ª—è–π —Ä–∞–∫–µ—Ç—É –≤ –æ–±–ª–∏—á—á—è –ª—é–¥–µ–π.",
        "image": "images/balloon_rocket.png",
        "duration": 10,
        "age_range": "6+",
        "level": "–ª–µ–≥–∫–æ",
    },
    "gravity-drop": {
        "slug": "gravity-drop",
        "title": "–°–∏–ª–∞ —Ç—è–∂—ñ–Ω–Ω—è –≤ –¥—ñ—ó",
        "emoji": "üåç",
        "summary": "–©–æ –≤–ø–∞–¥–µ —à–≤–∏–¥—à–µ ‚Äî –º‚Äô—è—á —á–∏ –ª–æ–∂–∫–∞? –î–æ—Å–ª—ñ–¥–∂—É—î–º–æ —Å–∏–ª—É —Ç—è–∂—ñ–Ω–Ω—è!",
        "materials": ["–º‚Äô—è—á", "–ª–æ–∂–∫–∞", "—Å—Ç—ñ–ª –∞–±–æ —Å—Ç—ñ–ª–µ—Ü—å"],
        "steps": [
            "–ü—ñ–¥–Ω—ñ–º–∏ –º‚Äô—è—á —ñ –ª–æ–∂–∫—É.",
            "–í—ñ–¥–ø—É—Å—Ç–∏ —ó—Ö –æ–¥–Ω–æ—á–∞—Å–Ω–æ.",
            "–ü–æ–¥–∏–≤–∏—Å—å, —è–∫ –æ–±–∏–¥–≤–∞ –ø–∞–¥–∞—é—Ç—å ‚Äî —Ü–µ —Å–∏–ª–∞ —Ç—è–∂—ñ–Ω–Ω—è!"
        ],
        "safety_note": "–°–ª—ñ–¥–∫—É–π, —â–æ–± –Ω—ñ—â–æ –Ω–µ –≤–ø–∞–ª–æ –Ω–∞ –Ω–æ–≥—É.",
        "image": "images/gravity_drop.png",
        "duration": 5,
        "age_range": "5+",
        "level": "–¥—É–∂–µ –ª–µ–≥–∫–æ",
    },

    "mass-guess": {
        "slug": "mass-guess",
        "title": "–í–≥–∞–¥–∞–π –º–∞—Å—É",
        "emoji": "‚öñÔ∏è",
        "summary": "–ì—Ä–∞: –∑–¥–æ–≥–∞–¥–∞–π—Å—è, —â–æ –≤–∞–∂—á–µ ‚Äî —è–±–ª—É–∫–æ —á–∏ –∫–Ω–∏–≥–∞?",
        "materials": ["—è–±–ª—É–∫–æ", "–∫–Ω–∏–≥–∞", "–≤–∞–≥–∏ (–∑–∞ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ)"],
        "steps": [
            "–í—ñ–∑—å–º–∏ –¥–≤–∞ –ø—Ä–µ–¥–º–µ—Ç–∏.",
            "–í—ñ–¥—á—É–π —É —Ä—É–∫–∞—Ö, —â–æ –≤–∞–∂—á–µ.",
            "–ü–µ—Ä–µ–≤—ñ—Ä –Ω–∞ –≤–∞–≥–∞—Ö –∞–±–æ –æ–±–≥–æ–≤–æ—Ä–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç."
        ],
        "safety_note": "–ù–µ –±–µ—Ä–∏ –Ω–∞–¥—Ç–æ –≤–∞–∂–∫–∏—Ö –ø—Ä–µ–¥–º–µ—Ç—ñ–≤.",
        "image": "images/mass_guess.png",
        "duration": 10,
        "age_range": "6+",
        "level": "–ª–µ–≥–∫–æ",
    },

    "volume-pour": {
        "slug": "volume-pour",
        "title": "–°–∫—ñ–ª—å–∫–∏ –≤–æ–¥–∏?",
        "emoji": "üß™",
        "summary": "–ü–æ—Ä—ñ–≤–Ω—é—î–º–æ –æ–±‚Äô—î–º: —Å–∫–ª—è–Ω–∫–∞, —á–∞—à–∫–∞, –±–∞–Ω–∫–∞ ‚Äî –≤ —è–∫—ñ–π –±—ñ–ª—å—à–µ?",
        "materials": ["–≤–æ–¥–∞", "—Å–∫–ª—è–Ω–∫–∞", "—á–∞—à–∫–∞", "–±–∞–Ω–∫–∞", "–º—ñ—Ä–Ω–∏–π —Å—Ç–∞–∫–∞–Ω (–∑–∞ –±–∞–∂–∞–Ω–Ω—è–º)"],
        "steps": [
            "–ù–∞–ª–∏–π –≤–æ–¥—É —É —Å–∫–ª—è–Ω–∫—É, —á–∞—à–∫—É —ñ –±–∞–Ω–∫—É.",
            "–ü–æ—Ä—ñ–≤–Ω—è–π —Ä—ñ–≤–µ–Ω—å –≤–æ–¥–∏.",
            "–ü—Ä–∏ –±–∞–∂–∞–Ω–Ω—ñ ‚Äî –≤–∏–º—ñ—Ä—è–π –æ–±‚Äô—î–º –º—ñ—Ä–Ω–∏–º —Å—Ç–∞–∫–∞–Ω–æ–º."
        ],
        "safety_note": "–û–±–µ—Ä–µ–∂–Ω–æ –∑ –≤–æ–¥–æ—é, —â–æ–± –Ω–µ —Ä–æ–∑–ª–∏—Ç–∏.",
        "image": "images/volume_pour.png",
        "duration": 10,
        "age_range": "6+",
        "level": "–ª–µ–≥–∫–æ",
    },

    "find-physics": {
        "slug": "find-physics",
        "title": "–ó–Ω–∞–π–¥–∏ —Ñ—ñ–∑–∏–∫—É –Ω–∞–≤–∫–æ–ª–æ",
        "emoji": "üîç",
        "summary": "–î–∏–≤–∏–º–æ—Å—å –Ω–∞–≤–∫–æ–ª–æ ‚Äî —ñ —à—É–∫–∞—î–º–æ —Ñ—ñ–∑–∏–∫—É –≤ –ø–æ–≤—Å—è–∫–¥–µ–Ω–Ω–æ–º—É –∂–∏—Ç—Ç—ñ.",
        "materials": ["–ø—Ä–µ–¥–º–µ—Ç–∏ –∑ –¥–æ–º—É –∞–±–æ –∫–ª–∞—Å—É"],
        "steps": [
            "–û–∑–∏—Ä–Ω–∏—Å—å –Ω–∞–≤–∫–æ–ª–æ.",
            "–ó–Ω–∞–π–¥–∏ 3 —Ä–µ—á—ñ, –¥–µ —î —Ñ—ñ–∑–∏–∫–∞ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –º–∞–≥–Ω—ñ—Ç –Ω–∞ —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫—É, —Å–≤—ñ—Ç–ª–æ, —è–∫–µ –≤–º–∏–∫–∞—î—Ç—å—Å—è).",
            "–û–±–≥–æ–≤–æ—Ä–∏, —è–∫ —Ü–µ –ø–æ–≤‚Äô—è–∑–∞–Ω–æ –∑ —Ñ—ñ–∑–∏–∫–æ—é."
        ],
        "safety_note": "–ù–µ —Ç–æ—Ä–∫–∞–π—Å—è –Ω–µ–±–µ–∑–ø–µ—á–Ω–∏—Ö –ø—Ä–∏–ª–∞–¥—ñ–≤.",
        "image": "images/find_physics.png",
        "duration": 7,
        "age_range": "5+",
        "level": "–¥—É–∂–µ –ª–µ–≥–∫–æ",
    },
    "volume-water-amount": {
        "slug": "volume-water-amount",
        "title": "–°–∫—ñ–ª—å–∫–∏ –≤–æ–¥–∏?",
        "emoji": "üíß",
        "summary": "–ü–µ—Ä–µ–ª–∏–≤–∞—î–º–æ –≤–æ–¥—É —É —Ä—ñ–∑–Ω—ñ –ø–æ—Å—É–¥–∏–Ω–∏ —Ç–∞ –ø–æ—Ä—ñ–≤–Ω—é—î–º–æ –æ–±‚Äô—î–º.",
        "materials": ["–ø–ª—è—à–∫–∞ –∑ –≤–æ–¥–æ—é", "—Å–∫–ª—è–Ω–∫–∞", "—á–∞—à–∫–∞", "–±–∞–Ω–∫–∞"],
        "steps": [
            "–ù–∞–ø–æ–≤–Ω–∏ –ø–ª—è—à–∫—É –≤–æ–¥–æ—é.",
            "–ü–µ—Ä–µ–ª–∏–π –≤–æ–¥—É –ø–æ —á–µ—Ä–∑—ñ —É —Å–∫–ª—è–Ω–∫—É, —á–∞—à–∫—É, –±–∞–Ω–∫—É.",
            "–ü–æ–¥–∏–≤–∏—Å—å, —É —á–æ–º—É –≤–æ–¥–∏ –±—ñ–ª—å—à–µ –∞–±–æ –º–µ–Ω—à–µ.",
            "–û–±–≥–æ–≤–æ—Ä—ñ—Ç—å, —â–æ —Ç–∞–∫–µ –æ–±‚Äô—î–º —ñ —è–∫ –π–æ–≥–æ –≤–∏–¥–Ω–æ."
        ],
        "safety_note": "–ë—É–¥—å –æ–±–µ—Ä–µ–∂–Ω–∏–º –∑ –≤–æ–¥–æ—é, —â–æ–± –Ω–µ —Ä–æ–∑–ª–∏—Ç–∏.",
        "image": "images/volume_water_amount.png",
        "duration": 10,
        "age_range": "6+",
        "level": "–ª–µ–≥–∫–æ",
    },

    "volume-shape-trick": {
        "slug": "volume-shape-trick",
        "title": "–û–¥–Ω–∞ –≤–æ–¥–∞ ‚Äî —Ä—ñ–∑–Ω—ñ –ø–æ—Å—É–¥–∏–Ω–∏",
        "emoji": "ü•õ",
        "summary": "–ü–æ—Ä—ñ–≤–Ω—é—î–º–æ, —è–∫ –æ–¥–Ω–∞–∫–æ–≤–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –≤–æ–¥–∏ –≤–∏–≥–ª—è–¥–∞—î –ø–æ-—Ä—ñ–∑–Ω–æ–º—É.",
        "materials": ["–º—ñ—Ä–Ω–∞ —Å–∫–ª—è–Ω–∫–∞ (200 –º–ª)", "–≤—É–∑—å–∫–∞ —Å–∫–ª—è–Ω–∫–∞", "—à–∏—Ä–æ–∫–∞ —á–∞—à–∞"],
        "steps": [
            "–ù–∞–ª–∏–π 200 –º–ª –≤–æ–¥–∏ —É –º—ñ—Ä–Ω—É —Å–∫–ª—è–Ω–∫—É.",
            "–ü–µ—Ä–µ–ª–∏–π —ó—ó —É –≤—É–∑—å–∫—É —Å–∫–ª—è–Ω–∫—É ‚Äî –∑–∞–ø–∏—Ç–∞–π: ¬´–£ —è–∫—ñ–π –±—ñ–ª—å—à–µ?¬ª",
            "–¢–µ–ø–µ—Ä –ø–µ—Ä–µ–ª–∏–π —É —à–∏—Ä–æ–∫—É —á–∞—à—É ‚Äî –∑–Ω–æ–≤—É –∑–∞–ø–∏—Ç–∞–π.",
            "–ü–æ—è—Å–Ω–∏, —â–æ –æ–±‚Äô—î–º –Ω–µ –∑–º—ñ–Ω–∏–≤—Å—è, —Ö–æ—á–∞ —Ñ–æ—Ä–º–∞ ‚Äî —ñ–Ω—à–∞."
        ],
        "safety_note": "–°—Ç–∞–≤ –ø–æ—Å—É–¥ –Ω–∞ —Ä—ñ–≤–Ω—É –ø–æ–≤–µ—Ä—Ö–Ω—é, —â–æ–± –≤–æ–¥–∞ –Ω–µ —Ä–æ–∑–ª–∏–ª–∞—Å—å.",
        "image": "images/volume_shape_trick.png",
        "duration": 12,
        "age_range": "6+",
        "level": "–ª–µ–≥–∫–æ",
    }
        "phone-string": {
        "slug": "telefon-na-nytci",
        "title": "–¢–µ–ª–µ—Ñ–æ–Ω –Ω–∞ –Ω–∏—Ç—Ü—ñ",
        "emoji": "üìûüßµ",
        "summary": "–ü–∞–ø–µ—Ä–æ–≤—ñ –∞–±–æ –ø–ª–∞—Å—Ç–∏–∫–æ–≤—ñ —Å—Ç–∞–∫–∞–Ω—á–∏–∫–∏ + –Ω–∏—Ç–∫–∞ + –≥—É–¥–∑–∏–∫–∏ –∞–±–æ —Å–∫—Ä—ñ–ø–∫–∏",
        "materials": ["—Å—Ç–∞–∫–∞–Ω—á–∏–∫–∏", "–Ω–∏—Ç–∫–∞ 2-3 –º–µ—Ç—Ä–∏, –º–æ–∂–Ω–∞ —ñ –¥–æ–≤—à—É", "–¥–≤–∞ –≥—É–¥–∑–∏–∫–∏ –∞–±–æ —Å–∫—Ä—ñ–ø–∫–∏, —â–æ–± –ø—Ä–∏–∫—Ä—ñ–ø–∏—Ç–∏ –Ω–∏—Ç–∫—É –¥–æ —Å—Ç–∞–∫–∞–Ω—á–∏–∫—ñ–≤", "–≥–∞—Ä–Ω–∏–π –Ω–∞—Å—Ç—Ä—ñ–π"],
        "steps": [
            "–ü—ñ–¥–≥–æ—Ç—É–≤–∞—Ç–∏ –Ω–∏—Ç–∫—É –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ—ó –¥–æ–≤–∂–∏–Ω–∏.",
            "–í –¥–Ω—ñ —Å—Ç–∞–∫–∞–Ω—á–∏–∫—ñ–≤ –∑—Ä–æ–±–∏—Ç–∏ –æ—Ç–≤–æ—Ä–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –≥–æ–ª–∫–∏ —ñ –ø—Ä–æ—Å—É–Ω—É—Ç–∏ –≤ –Ω–∏—Ö –Ω–∏—Ç–∫—É.",
            "–ó–∞–∫—Ä—ñ–ø–∏—Ç–∏ –Ω–∏—Ç–∫—É –Ω–∞ –¥–Ω—ñ —Å—Ç–∞–∫–∞–Ω—á–∏–∫—ñ–≤ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –≥—É–¥–∑–∏–∫—ñ–≤ –∞–±–æ —Å–∫—Ä—ñ–ø–æ–∫."
            "–î–≤–æ—î –¥—ñ—Ç–µ–π –≤—ñ–¥—Ö–æ–¥—è—Ç—å –Ω–∞ –¥–æ—Å—Ç–∞—Ç–Ω—é –≤—ñ–¥—Å—Ç–∞–Ω—å –¥–ª—è —Ç–æ–≥–æ —â–æ–± –Ω–∏—Ç–∫–∞ –Ω–∞—Ç—è–≥–Ω—É–ª–∞—Å—è, –∞–ª–µ –Ω–µ —Ä–≤–∞–ª–∞—Å—è."
            "–û–¥–∏–Ω –≥–æ–≤–æ—Ä–∏—Ç—å —É —Å—Ç–∞–∫–∞–Ω—á–∏–∫, –∞ —ñ–Ω—à–∏–π –ø—ñ–¥–Ω–æ—Å–∏—Ç—å —Å–≤—ñ–π —Å—Ç–∞–∫–∞–Ω—á–∏–∫ –¥–æ –≤—É—Ö–∞ —ñ —Å–ª—É—Ö–∞—î."
        ],
        "safety_note": "–û–±–µ—Ä–µ–∂–Ω–æ, —â–æ–± –Ω–µ –≤–∫–æ–ª–æ—Ç–∏—Å—è –≥–æ–ª–∫–æ—é.",
        "image": "images/phone.png",
        "duration": 10,
        "age_range": "5+",
        "level": "–¥—É–∂–µ –ª–µ–≥–∫–æ"
    },
}



# ---- –°–ø–∏—Å–æ–∫ –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ñ–≤ ----
def experiments_list(request):
    items = list(EXPERIMENTS.values())
    random.shuffle(items)
    return render(request, "experiments/experiments.html", {"experiments": items})

# ---- –ú–µ–Ω–µ–¥–∂–µ—Ä –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ñ–≤ (stub UI) ----
@require_http_methods(["GET"])
def experiments_manage(request):
    return render(request, "experiments/experiments_manage.html", {
        "count": len(EXPERIMENTS),
    })

# ---- –®–≤–∏–¥–∫–µ –¥–æ–¥–∞–≤–∞–Ω–Ω—è (stub —Ñ–æ—Ä–º–∞) ----
@require_http_methods(["GET", "POST"])
def experiments_quick_add(request):
    if request.method == "POST":
        # –°—Ç–∞–±—É—î–º–æ "–∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è": –ø—Ä–æ—Å—Ç–æ —Ä–µ–¥—ñ—Ä–µ–∫—Ç –Ω–∞ —Å–ø–∏—Å–æ–∫ (—Ä–µ–∞–ª—å–Ω–µ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –¥–æ–¥–∞—Å–∏ –ø–æ—Ç—ñ–º)
        return redirect("experiments:experiments")
    return render(request, "experiments/experiments_quick_add.html")

# ---- –í–∏–ø–∞–¥–∫–æ–≤–∏–π –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç ----
def experiment_random(request):
    slug = random.choice(list(EXPERIMENTS.keys()))
    return redirect("experiments:experiments_detail_static", slug=slug)

# ---- –î–µ—Ç–∞–ª—å–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ (—Å—Ç–∞—Ç–∏—á–Ω—ñ –¥–∞–Ω—ñ –∑ EXPERIMENTS) ----
class ExperimentDetailView(TemplateView):
    template_name = "experiments/experiments_detail_static.html"

    def get_context_data(self, **kwargs):
        ctx = super().get_context_data(**kwargs)
        slug = kwargs.get("slug")
        exp = EXPERIMENTS.get(slug)
        if not exp:
            raise Http404("–ï–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ")
        ctx["exp"] = exp
        return ctx


def sound_lesson(request):
    return None